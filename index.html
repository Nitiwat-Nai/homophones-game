<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡πÄ‡∏Å‡∏°‡∏ù‡∏∂‡∏Å‡∏®‡∏±‡∏û‡∏ó‡πå Homophones (Level 20)</title>
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        /* Global & Default (Level 1-10) Theme */
        :root {
            --color-primary: #FF7043; /* Bright Orange */
            --color-secondary: #42A5F5; /* Blue */
            --color-correct: #66BB6A; /* Green */
            --color-wrong: #EF5350; /* Red */
            --color-bg: #F4F7F9;
            --color-card: #FFFFFF;
            --color-text-dark: #263238;
            --color-text-light: #FFFFFF;
        }

        /* Hard/Expert Theme (Level 11-20) */
        .container.hard-theme {
            background-color: #2C3E50; 
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            color: #ECF0F1; 
        }
        .container.hard-theme header {
            background-color: #34495E; 
            color: #F1C40F; 
        }
        .container.hard-theme header h1 { color: #F1C40F; }

        /* Hard Theme Mode Selection Buttons */
        .container.hard-theme .mode-btn {
            background-color: #7F8C8D; /* Dark Gray for modes */
            box-shadow: 0 5px 0 #6A7A7B;
        }
        .container.hard-theme .mode-btn:nth-child(2) {
            background-color: #F39C12; /* Gold for auto mode */
            box-shadow: 0 5px 0 #D4AC0D;
        }
        .container.hard-theme .mode-btn:active {
            transform: translateY(2px);
            box-shadow: 0 2px 0;
        }


        /* Hard Theme Game Screen Styles (Reuse from prior versions) */
        .container.hard-theme #prompt-area {
            background-color: #34495E;
            border: 3px solid #F1C40F; 
        }
        .container.hard-theme #thai-prompt { color: #F1C40F; }
        .container.hard-theme #timer-bar-container { background-color: #34495E; }
        .container.hard-theme #timer-bar { background-color: #F39C12; }
        .container.hard-theme .choice-button {
            background-color: #7F8C8D; 
            box-shadow: 0 5px 0 #6A7A7B;
        }
        .container.hard-theme #next-btn {
            background-color: #F1C40F; 
            box-shadow: 0 4px 0 #D4AC0D;
            color: var(--color-text-dark);
        }
        
        .container.hard-theme #auto-toggle-btn {
            background-color: #27AE60; /* Green for START Auto */
            box-shadow: 0 4px 0 #20934F;
            color: var(--color-text-light);
        }
        .container.hard-theme #auto-toggle-btn.auto-active {
            background-color: #E74C3C; /* Red for STOP Auto */
            box-shadow: 0 4px 0 #C0392B;
        }
        /* --- END HARD THEME --- */


        body {
            font-family: 'Sarabun', sans-serif;
            background-color: var(--color-bg);
            color: var(--color-text-dark);
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            text-align: center;
        }

        .container {
            width: 100%;
            max-width: 500px;
            box-sizing: border-box;
            background-color: var(--color-card);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            padding: 0;
            transition: all 0.5s ease;
        }

        /* Header */
        header {
            background-color: var(--color-primary);
            color: var(--color-text-light);
            padding: 1.5rem 1rem;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
            margin-bottom: 1rem;
            transition: background-color 0.5s;
        }
        header h1 {
            font-size: 1.8rem;
            margin: 0;
        }

        /* Screen Management */
        .screen {
            padding: 1rem;
            display: none; 
            flex-grow: 1;
            flex-direction: column;
            justify-content: space-between;
        }
        .screen.active {
            display: flex;
        }

        /* --- Level Selection Screen (UNCHANGED) --- */
        #level-select-screen .level-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            padding: 1rem 0;
        }
        .level-btn {
            background-color: var(--color-secondary); 
            color: var(--color-text-light);
            border: none;
            padding: 1.5rem 0.5rem;
            border-radius: 12px;
            font-size: 1.4rem;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 0 #3188d6;
            transition: transform 0.1s, box-shadow 0.1s, background-color 0.2s;
        }
        .level-btn.level-btn-11-20 {
            background-color: #9B59B6; 
            box-shadow: 0 4px 0 #8E44AD;
        }
        .level-btn:active {
            transform: translateY(2px);
            box-shadow: 0 2px 0 #3188d6;
        }
        .level-btn.level-btn-11-20:active {
            box-shadow: 0 2px 0 #8E44AD;
        }
        .level-btn-title {
            font-size: 0.8rem;
            font-weight: 400;
            display: block;
            margin-top: 5px;
        }
        
        /* --- Mode Selection Screen (NEW) --- */
        #mode-select-screen {
            justify-content: center;
            align-items: center;
            gap: 20px;
        }
        #mode-select-screen .mode-btn-group {
            display: flex;
            flex-direction: column;
            gap: 15px;
            width: 80%;
        }
        .mode-btn {
            background-color: var(--color-secondary);
            color: var(--color-text-light);
            border: none;
            padding: 1.5rem;
            border-radius: 15px;
            font-size: 1.5rem;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 5px 0 #3188d6;
            transition: transform 0.1s, box-shadow 0.1s;
        }
        .mode-btn:nth-child(2) {
            background-color: #FBC02D; /* Yellow/Gold for Auto */
            box-shadow: 0 5px 0 #F9A825;
        }
        .mode-btn:active {
            transform: translateY(3px);
            box-shadow: 0 2px 0 #3188d6;
        }
        
        /* --- Game Screen --- (Existing Styles) */
        #game-screen .status-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem 0;
            font-weight: bold;
            margin-bottom: 1.5rem;
        }

        #prompt-area {
            background-color: var(--color-bg);
            border: 3px solid var(--color-primary);
            border-radius: 20px;
            padding: 2rem 1rem;
            min-height: 100px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            margin-bottom: 1.5rem;
            transition: all 0.5s ease;
        }
        #thai-prompt {
            font-size: 2rem;
            font-weight: 900;
            color: var(--color-primary);
            line-height: 1.3;
        }

        /* Timer Bar */
        #timer-bar-container {
            width: 100%;
            height: 10px;
            background-color: #ECEFF1;
            border-radius: 5px;
            margin-bottom: 1rem;
            overflow: hidden;
        }
        #timer-bar {
            width: 100%;
            height: 100%;
            background-color: var(--color-secondary);
            transition: width 5s linear; /* Default to 5s */
        }

        /* Choice Buttons */
        #choices {
            display: flex;
            flex-direction: column;
            gap: 12px;
            flex-grow: 1; 
            justify-content: center; 
        }
        .choice-button {
            background-color: #3498DB;
            color: var(--color-text-light);
            border: none;
            padding: 1.5rem;
            border-radius: 15px; 
            font-size: 1.6rem;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 5px 0 #2980B9;
            transition: all 0.2s ease-in-out;
        }
        .choice-button.correct {
            background-color: var(--color-correct);
            box-shadow: 0 5px 0 #388E3C;
            font-size: 2.5rem; 
        }
        .choice-button.wrong {
            background-color: var(--color-wrong);
            box-shadow: 0 5px 0 #C62828;
        }
        .choice-button.hidden-on-reveal {
            opacity: 0;
            height: 0;
            padding: 0;
            margin: 0;
            transition: opacity 0.3s, height 0.3s, padding 0.3s, margin 0.3s;
        }
        
        /* Footer/Control */
        #game-footer {
            display: flex;
            justify-content: space-between;
            gap: 10px; 
            margin-top: 2rem;
            padding-top: 1rem;
            border-top: 1px solid #ECEFF1;
        }

        #next-btn {
            background-color: var(--color-primary);
            color: var(--color-text-light);
            border: none;
            width: 100%; 
            padding: 1rem;
            border-radius: 50px;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 0 #E64A19;
            transition: all 0.1s;
        }
        #next-btn:active {
            transform: translateY(2px);
            box-shadow: 0 2px 0 #E64A19;
        }
        
        /* Auto Toggle Button */
        #auto-toggle-btn {
            background-color: var(--color-correct); 
            color: var(--color-text-light);
            border: none;
            padding: 1rem 0.5rem;
            border-radius: 50px;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            width: 40%; 
            box-shadow: 0 4px 0 #388E3C;
            transition: all 0.1s;
            display: none; 
        }
        #auto-toggle-btn.auto-active {
            background-color: var(--color-wrong); /* Red for STOP Auto */
            box-shadow: 0 4px 0 #C62828;
        }
        #auto-toggle-btn:active {
            transform: translateY(2px);
            box-shadow: 0 2px 0;
        }
        
        /* Adjust button widths when auto-toggle is visible */
        #game-footer.auto-mode #next-btn {
            width: 60%;
        }
    </style>
</head>
<body>

    <div class="container" id="main-container">
        <header>
            <h1>Homophone Quiz Challenge</h1>
        </header>

        <div id="level-select-screen" class="screen active">
            <h2>üèÜ ‡πÄ‡∏•‡πÄ‡∏ß‡∏• 1 - 20 (200 ‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå)</h2>
            <p>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏•‡πÄ‡∏ß‡∏•‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ù‡∏∂‡∏Å‡∏ù‡∏ô:</p>
            <div class="level-grid" id="level-grid">
                </div>
            <p style="padding-top: 2rem; color:#9E9E9E;">‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡πÄ‡∏•‡πÄ‡∏ß‡∏•‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏´‡∏°‡∏î</p>
        </div>
        
        <div id="mode-select-screen" class="screen">
            <h2 id="mode-level-title">Level X</h2>
            <p>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏´‡∏°‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏•‡πÄ‡∏ß‡∏•‡∏ô‡∏µ‡πâ:</p>
            <div class="mode-btn-group">
                <button id="start-normal-btn" class="mode-btn">
                    ‚ñ∂Ô∏è ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏° (‡πÇ‡∏´‡∏°‡∏î‡∏õ‡∏Å‡∏ï‡∏¥)
                    <span style="display:block; font-size: 0.8em; font-weight: 400;">‡∏ï‡∏≠‡∏ö‡πÄ‡∏≠‡∏á, ‡πÄ‡∏ß‡∏•‡∏≤ 5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ</span>
                </button>
                <button id="start-auto-btn" class="mode-btn">
                    ü§ñ ‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ (Auto Mode)
                    <span style="display:block; font-size: 0.8em; font-weight: 400;">‡πÄ‡∏â‡∏•‡∏¢‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥, ‡πÄ‡∏ß‡∏•‡∏≤ 3 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ</span>
                </button>
            </div>
            <button id="back-to-level-btn" class="mode-btn" style="width: 80%; background-color: #B0BEC5; box-shadow: 0 5px 0 #90A4AE;">
                üîô ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏•‡πÄ‡∏ß‡∏•
            </button>
        </div>


        <div id="game-screen" class="screen">
            <div class="top-content">
                <div class="status-bar">
                    <span id="level-title">Level: </span>
                    <span id="q-count">‡∏Ç‡πâ‡∏≠: 0/10</span>
                    <span id="score">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: 0</span>
                </div>

                <div id="timer-bar-container">
                    <div id="timer-bar"></div>
                </div>

                <div id="prompt-area">
                    <span id="thai-prompt">‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏Ñ‡∏≥‡πÅ‡∏õ‡∏•‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢</span>
                </div>

                <div id="choices">
                    <button id="choice-A" class="choice-button" disabled></button>
                    <button id="choice-B" class="choice-button" disabled></button>
                </div>
            </div>

            <div id="game-footer">
                <button id="auto-toggle-btn">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ (Auto)</button>
                <button id="next-btn" disabled>‡∏Ç‡πâ‡∏≠‡∏ñ‡∏±‡∏î‡πÑ‡∏õ/‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</button>
            </div>
        </div>
    </div>

    <script>
        // --- DATA (20 Levels x 10 Questions = 200 words) ---
        const allQuizData = [
            { level: 1, title: "‡∏Ñ‡∏≥‡∏û‡πâ‡∏≠‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô 1", questions: [
                { thai: "‡∏ñ‡∏∂‡∏á, ‡∏™‡∏π‡πà (‡∏Ñ‡∏≥‡∏ö‡∏∏‡∏û‡∏ö‡∏ó)", correct: "to", decoy: "too" },
                { thai: "‡∏Ç‡∏≠‡∏á‡∏û‡∏ß‡∏Å‡πÄ‡∏Ç‡∏≤", correct: "their", decoy: "there" },
                { thai: "‡πÑ‡∏î‡πâ‡∏¢‡∏¥‡∏ô", correct: "hear", decoy: "here" },
                { thai: "‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô", correct: "write", decoy: "right" },
                { thai: "‡πÉ‡∏´‡∏°‡πà", correct: "new", decoy: "knew" },
                { thai: "‡∏û‡∏£‡∏∞‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå", correct: "sun", decoy: "son" },
                { thai: "‡∏ã‡∏∑‡πâ‡∏≠", correct: "buy", decoy: "by" },
                { thai: "‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ö‡∏¥‡∏ô", correct: "plane", decoy: "plain" },
                { thai: "‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå", correct: "week", decoy: "weak" },
                { thai: "‡∏´‡∏ô‡∏∂‡πà‡∏á (1)", correct: "one", decoy: "won" },
            ]},
            { level: 2, title: "‡∏Ñ‡∏≥‡∏û‡πâ‡∏≠‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô 2", questions: [
                { thai: "‡∏£‡∏π‡πâ‡∏à‡∏±‡∏Å", correct: "knew", decoy: "new" },
                { thai: "‡∏•‡∏π‡∏Å‡∏ä‡∏≤‡∏¢", correct: "son", decoy: "sun" },
                { thai: "‡πÇ‡∏î‡∏¢", correct: "by", decoy: "buy" },
                { thai: "‡∏ò‡∏£‡∏£‡∏°‡∏î‡∏≤, ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏á‡πà‡∏≤‡∏¢", correct: "plain", decoy: "plane" },
                { thai: "‡∏≠‡πà‡∏≠‡∏ô‡πÅ‡∏≠", correct: "weak", decoy: "week" },
                { thai: "‡∏ä‡∏ô‡∏∞", correct: "won", decoy: "one" },
                { thai: "‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î", correct: "all", decoy: "awl" },
                { thai: "‡∏ó‡∏∞‡πÄ‡∏•", correct: "sea", decoy: "see" },
                { thai: "‡πÄ‡∏ö‡∏∑‡πà‡∏≠", correct: "bored", decoy: "board" },
                { thai: "‡∏°‡∏µ (‡∏Å‡∏£‡∏¥‡∏¢‡∏≤)", correct: "have", decoy: "half" },
            ]},
            { level: 3, title: "‡∏Ñ‡∏π‡πà‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏ö‡πà‡∏≠‡∏¢", questions: [
                { thai: "‡∏ä‡∏¥‡πâ‡∏ô, ‡∏™‡πà‡∏ß‡∏ô", correct: "piece", decoy: "peace" },
                { thai: "‡∏î‡∏π", correct: "see", decoy: "sea" },
                { thai: "‡∏£‡∏π", correct: "hole", decoy: "whole" },
                { thai: "‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î", correct: "whole", decoy: "hole" },
                { thai: "‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö", correct: "for", decoy: "four" },
                { thai: "‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç 4", correct: "four", decoy: "for" },
                { thai: "‡πÅ‡∏õ‡∏î", correct: "eight", decoy: "ate" },
                { thai: "‡∏Å‡∏¥‡∏ô (‡∏≠‡∏î‡∏µ‡∏ï)", correct: "ate", decoy: "eight" },
                { thai: "‡∏î‡∏≠‡∏Å‡πÑ‡∏°‡πâ", correct: "flower", decoy: "flour" },
                { thai: "‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á", correct: "hour", decoy: "our" },
            ]},
            { level: 4, title: "‡∏Ñ‡∏≥‡∏Å‡∏£‡∏¥‡∏¢‡∏≤", questions: [
                { thai: "‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï", correct: "allow", decoy: "aloud" },
                { thai: "‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏î‡∏±‡∏á", correct: "aloud", decoy: "allow" },
                { thai: "‡∏ó‡∏≥‡∏•‡∏≤‡∏¢", correct: "break", decoy: "brake" },
                { thai: "‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏Å‡∏≤‡∏£‡∏´‡∏¢‡∏∏‡∏î", correct: "brake", decoy: "break" },
                { thai: "‡∏û‡∏ö", correct: "meet", decoy: "meat" },
                { thai: "‡πÄ‡∏ô‡∏∑‡πâ‡∏≠", correct: "meat", decoy: "meet" },
                { thai: "‡∏£‡∏≠", correct: "wait", decoy: "weight" },
                { thai: "‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å", correct: "weight", decoy: "wait" },
                { thai: "‡∏£‡∏π‡πâ", correct: "know", decoy: "no" },
                { thai: "‡πÑ‡∏°‡πà", correct: "no", decoy: "know" },
            ]},
            { level: 5, title: "‡∏Ñ‡∏≥‡∏ô‡∏≤‡∏°", questions: [
                { thai: "‡∏´‡∏≤‡∏á", correct: "tail", decoy: "tale" },
                { thai: "‡∏ô‡∏¥‡∏ó‡∏≤‡∏ô", correct: "tale", decoy: "tail" },
                { thai: "‡∏ó‡∏≤‡∏á, ‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á", correct: "road", decoy: "rode" },
                { thai: "‡∏Ç‡∏µ‡πà (‡∏≠‡∏î‡∏µ‡∏ï)", correct: "rode", decoy: "road" },
                { thai: "‡∏Ç‡∏ô‡∏™‡∏±‡∏ï‡∏ß‡πå", correct: "fur", decoy: "fir" },
                { thai: "‡∏ï‡πâ‡∏ô‡∏™‡∏ô", correct: "fir", decoy: "fur" },
                { thai: "‡∏Ñ‡∏π‡πà, ‡∏™‡∏≠‡∏á", correct: "pair", decoy: "pear" },
                { thai: "‡∏•‡∏π‡∏Å‡πÅ‡∏û‡∏£‡πå", correct: "pear", decoy: "pair" },
                { thai: "‡∏à‡∏î‡∏´‡∏°‡∏≤‡∏¢", correct: "mail", decoy: "male" },
                { thai: "‡πÄ‡∏û‡∏®‡∏ä‡∏≤‡∏¢", correct: "male", decoy: "mail" },
            ]},
            { level: 6, title: "‡∏Ç‡∏±‡πâ‡∏ô‡∏™‡∏π‡∏á 1", questions: [
                { thai: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏á‡∏ö‡∏™‡∏∏‡∏Ç", correct: "peace", decoy: "piece" },
                { thai: "‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö", correct: "accept", decoy: "except" },
                { thai: "‡∏¢‡∏Å‡πÄ‡∏ß‡πâ‡∏ô", correct: "except", decoy: "accept" },
                { thai: "‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏≤‡∏£, ‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤", correct: "principal", decoy: "principle" },
                { thai: "‡∏Å‡∏é, ‡∏ó‡∏§‡∏©‡∏é‡∏µ", correct: "principle", decoy: "principal" },
                { thai: "‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á", correct: "affect", decoy: "effect" },
                { thai: "‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö", correct: "effect", decoy: "affect" },
                { thai: "‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤", correct: "haul", decoy: "hall" },
                { thai: "‡∏´‡πâ‡∏≠‡∏á‡πÇ‡∏ñ‡∏á", correct: "hall", decoy: "haul" },
                { thai: "‡∏ñ‡∏π‡∏Å‡∏ú‡∏π‡∏Å‡πÑ‡∏ß‡πâ (‡πÇ‡∏î‡∏¢‡∏Å‡∏é)", correct: "bound", decoy: "bounces" },
            ]},
            { level: 7, title: "‡∏Ç‡∏±‡πâ‡∏ô‡∏™‡∏π‡∏á 2", questions: [
                { thai: "‡∏ù‡∏ô", correct: "rain", decoy: "reign" },
                { thai: "‡∏Ñ‡∏£‡∏≠‡∏á‡∏£‡∏≤‡∏ä‡∏¢‡πå", correct: "reign", decoy: "rain" },
                { thai: "‡∏ö‡∏ó", correct: "role", decoy: "roll" },
                { thai: "‡∏°‡πâ‡∏ß‡∏ô", correct: "roll", decoy: "role" },
                { thai: "‡πÄ‡∏ã‡∏•‡∏•‡πå", correct: "cell", decoy: "sell" },
                { thai: "‡∏Ç‡∏≤‡∏¢", correct: "sell", decoy: "cell" },
                { thai: "‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà", correct: "site", decoy: "sight" },
                { thai: "‡∏™‡∏≤‡∏¢‡∏ï‡∏≤", correct: "sight", decoy: "site" },
                { thai: "‡∏™‡πà‡∏≠‡∏á‡πÅ‡∏™‡∏á", correct: "shine", decoy: "sheen" },
                { thai: "‡πÇ‡∏î‡∏¢‡∏£‡∏≠‡∏ö", correct: "around", decoy: "round" },
            ]},
            { level: 8, title: "‡∏Ñ‡∏≥‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏ß‡∏•‡∏µ", questions: [
                { thai: "‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏®‡∏π‡∏ô‡∏¢‡πå", correct: "zero", decoy: "hero" },
                { thai: "‡πÄ‡∏£‡∏∑‡∏≠", correct: "ship", decoy: "sheep" },
                { thai: "‡πÅ‡∏Å‡∏∞", correct: "sheep", decoy: "ship" },
                { thai: "‡πÉ‡∏ö‡πÑ‡∏°‡πâ", correct: "leaf", decoy: "live" },
                { thai: "‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏ú‡πâ‡∏≤", correct: "clothes", decoy: "cloths" },
                { thai: "‡∏õ‡∏¥‡∏î", correct: "close", decoy: "cloze" },
                { thai: "‡πÉ‡∏Å‡∏•‡πâ", correct: "close", decoy: "cloze" },
                { thai: "‡∏Å‡∏≤‡∏£‡∏™‡∏π‡∏ç‡πÄ‡∏™‡∏µ‡∏¢", correct: "lose", decoy: "loose" },
                { thai: "‡∏´‡∏•‡∏ß‡∏°", correct: "loose", decoy: "lose" },
                { thai: "‡∏´‡∏≤‡∏¢‡πÉ‡∏à", correct: "breathe", decoy: "breath" },
            ]},
            { level: 9, title: "‡∏Ñ‡∏≥‡πÉ‡∏Å‡∏•‡πâ‡πÄ‡∏Ñ‡∏µ‡∏¢‡∏á", questions: [
                { thai: "‡∏•‡∏°‡∏´‡∏≤‡∏¢‡πÉ‡∏à", correct: "breath", decoy: "breathe" },
                { thai: "‡∏°‡∏≤‡∏£‡∏¢‡∏≤‡∏ó", correct: "manner", decoy: "manor" },
                { thai: "‡∏Ñ‡∏§‡∏´‡∏≤‡∏™‡∏ô‡πå", correct: "manor", decoy: "manner" },
                { thai: "‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏•‡∏≤‡∏á", correct: "neutral", decoy: "nurture" },
                { thai: "‡∏Ñ‡∏∏‡∏ì‡∏ò‡∏£‡∏£‡∏°", correct: "virtue", decoy: "virtuous" },
                { thai: "‡∏Ç‡∏ô‡∏°‡∏´‡∏ß‡∏≤‡∏ô", correct: "dessert", decoy: "desert" },
                { thai: "‡∏ó‡∏∞‡πÄ‡∏•‡∏ó‡∏£‡∏≤‡∏¢", correct: "desert", decoy: "dessert" },
                { thai: "‡πÄ‡∏®‡∏£‡∏©‡∏ê‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå", correct: "economic", decoy: "economical" },
                { thai: "‡∏°‡∏µ‡∏Ñ‡∏∏‡∏ì‡∏ò‡∏£‡∏£‡∏°", correct: "moral", decoy: "morale" },
                { thai: "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÉ‡∏à", correct: "morale", decoy: "moral" },
            ]},
            { level: 10, title: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡πâ‡∏≤‡∏ó‡∏≤‡∏¢‡∏£‡∏ß‡∏° 1", questions: [
                { thai: "‡∏û‡∏≤‡∏¢‡∏∏‡∏´‡∏¥‡∏°‡∏∞", correct: "blizzard", decoy: "billiard" },
                { thai: "‡πÇ‡∏ï‡πä‡∏∞‡∏™‡∏ô‡∏∏‡πä‡∏Å", correct: "billiard", decoy: "blizzard" },
                { thai: "‡∏Ñ‡∏ô‡πÅ‡∏õ‡∏•‡∏Å‡∏´‡∏ô‡πâ‡∏≤", correct: "stranger", decoy: "stronger" },
                { thai: "‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏£‡∏á‡∏Å‡∏ß‡πà‡∏≤", correct: "stronger", decoy: "stranger" },
                { thai: "‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠", correct: "tool", decoy: "tulle" },
                { thai: "‡∏ï‡∏≤‡∏Ç‡πà‡∏≤‡∏¢‡∏ö‡∏≤‡∏á", correct: "tulle", decoy: "tool" },
                { thai: "‡∏Ç‡∏ô‡∏°‡∏õ‡∏±‡∏á‡∏≠‡∏ö", correct: "dough", decoy: "doe" },
                { thai: "‡∏Å‡∏ß‡∏≤‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏°‡∏µ‡∏¢", correct: "doe", decoy: "dough" },
                { thai: "‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏î‡∏±‡∏á‡∏Å‡πâ‡∏≠‡∏á", correct: "boom", decoy: "bomb" },
                { thai: "‡∏£‡∏∞‡πÄ‡∏ö‡∏¥‡∏î", correct: "bomb", decoy: "boom" },
            ]},
            // --- NEW HARD LEVELS (11-20) ---
            { level: 11, title: "Homophones ‡∏¢‡∏≤‡∏Å 1", questions: [
                { thai: "‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÅ‡∏¢‡πà‡∏•‡∏á", correct: "aggravate", decoy: "aggregate" },
                { thai: "‡∏ú‡∏•‡∏£‡∏ß‡∏°", correct: "aggregate", decoy: "aggravate" },
                { thai: "‡∏ú‡∏π‡πâ‡πÉ‡∏´‡πâ‡∏Ñ‡∏≥‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤ (‡∏Å‡∏≤‡∏£‡πÄ‡∏°‡∏∑‡∏≠‡∏á)", correct: "councilor", decoy: "counselor" },
                { thai: "‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤ (‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ)", correct: "counselor", decoy: "councilor" },
                { thai: "‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏±‡∏ô‡πÄ‡∏≠‡∏á", correct: "casual", decoy: "caudal" },
                { thai: "‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏≤‡∏á", correct: "caudal", decoy: "casual" },
                { thai: "‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô", correct: "appraisal", decoy: "apprise" },
                { thai: "‡πÅ‡∏à‡πâ‡∏á‡πÉ‡∏´‡πâ‡∏ó‡∏£‡∏≤‡∏ö", correct: "apprise", decoy: "appraisal" },
                { thai: "‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á", correct: "amend", decoy: "emend" },
                { thai: "‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ï‡πâ‡∏ô‡∏â‡∏ö‡∏±‡∏ö", correct: "emend", decoy: "amend" },
            ]},
            { level: 12, title: "Homophones ‡∏¢‡∏≤‡∏Å 2", questions: [
                { thai: "‡∏ä‡∏ô‡∏ä‡∏±‡πâ‡∏ô‡∏™‡∏π‡∏á", correct: "elite", decoy: "illicit" },
                { thai: "‡∏ú‡∏¥‡∏î‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢", correct: "illicit", decoy: "elite" },
                { thai: "‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏†‡∏±‡∏¢", correct: "insure", decoy: "ensure" },
                { thai: "‡∏£‡∏±‡∏ö‡∏£‡∏≠‡∏á, ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à", correct: "ensure", decoy: "insure" },
                { thai: "‡∏ó‡∏µ‡πà‡∏≠‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏≠‡∏≠‡∏Å", correct: "illegible", decoy: "eligible" },
                { thai: "‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå", correct: "eligible", decoy: "illegible" },
                { thai: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô", correct: "elementary", decoy: "alimentary" },
                { thai: "‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏≠‡∏≤‡∏´‡∏≤‡∏£", correct: "alimentary", decoy: "elementary" },
                { thai: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏≠‡∏∑‡πâ‡∏≠‡∏â‡∏≤‡∏ß", correct: "notoriety", decoy: "notorious" },
                { thai: "‡πÄ‡∏õ‡πá‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏á‡∏•‡∏∑‡∏≠", correct: "notorious", decoy: "notoriety" },
            ]},
            { level: 13, title: "Homophones ‡∏¢‡∏≤‡∏Å 3", questions: [
                { thai: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï", correct: "permissibility", decoy: "permittivity" },
                { thai: "‡∏™‡∏†‡∏≤‡∏û‡∏¢‡∏≠‡∏°‡πÉ‡∏´‡πâ‡∏ú‡πà‡∏≤‡∏ô", correct: "permittivity", decoy: "permissibility" },
                { thai: "‡∏™‡∏ï‡∏¥‡∏õ‡∏±‡∏ç‡∏ç‡∏≤", correct: "acuity", decoy: "equity" },
                { thai: "‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏ò‡∏£‡∏£‡∏°", correct: "equity", decoy: "acuity" },
                { thai: "‡∏≠‡πâ‡∏≤‡∏á‡∏ñ‡∏∂‡∏á, ‡∏û‡∏≤‡∏î‡∏û‡∏¥‡∏á", correct: "allude", decoy: "elude" },
                { thai: "‡∏´‡∏•‡∏µ‡∏Å‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á", correct: "elude", decoy: "allude" },
                { thai: "‡πÅ‡∏´‡∏•‡πà‡∏á‡πÄ‡∏Å‡πá‡∏ö‡∏≠‡∏≤‡∏ß‡∏∏‡∏ò", correct: "arsenal", decoy: "arson" },
                { thai: "‡∏Å‡∏≤‡∏£‡∏ß‡∏≤‡∏á‡πÄ‡∏û‡∏•‡∏¥‡∏á", correct: "arson", decoy: "arsenal" },
                { thai: "‡πÄ‡∏ú‡∏≤‡∏®‡∏û", correct: "cremate", decoy: "crematorium" },
                { thai: "‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡πá‡∏ö‡πÄ‡∏ñ‡πâ‡∏≤‡∏Å‡∏£‡∏∞‡∏î‡∏π‡∏Å", correct: "crematorium", decoy: "cremate" },
            ]},
            { level: 14, title: "‡∏Ñ‡∏≥‡∏Å‡∏£‡∏¥‡∏¢‡∏≤/‡∏ô‡∏≤‡∏°‡∏™‡∏±‡∏ö‡∏™‡∏ô", questions: [
                { thai: "‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£", correct: "proceed", decoy: "precede" },
                { thai: "‡∏ô‡∏≥‡∏´‡∏ô‡πâ‡∏≤", correct: "precede", decoy: "proceed" },
                { thai: "‡∏ä‡∏°‡πÄ‡∏ä‡∏¢", correct: "commend", decoy: "command" },
                { thai: "‡∏™‡∏±‡πà‡∏á", correct: "command", decoy: "commend" },
                { thai: "‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢ (‡∏Å‡∏£‡∏¥‡∏¢‡∏≤)", correct: "prophesize", decoy: "prophesy" },
                { thai: "‡∏Ñ‡∏≥‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢ (‡∏ô‡∏≤‡∏°)", correct: "prophesy", decoy: "prophesize" },
                { thai: "‡∏ö‡∏≠‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡∏ô‡∏±‡∏¢", correct: "imply", decoy: "infer" },
                { thai: "‡∏™‡∏£‡∏∏‡∏õ, ‡∏ï‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°", correct: "infer", decoy: "imply" },
                { thai: "‡∏≠‡∏∏‡∏ó‡∏¥‡∏®‡∏ï‡∏ô (‡∏Å‡∏£‡∏¥‡∏¢‡∏≤)", correct: "dedicate", decoy: "devoted" },
                { thai: "‡∏≠‡∏∏‡∏ó‡∏¥‡∏®‡∏ï‡∏ô (‡∏Ñ‡∏∏‡∏ì‡∏®‡∏±‡∏û‡∏ó‡πå)", correct: "devoted", decoy: "dedicate" },
            ]},
            { level: 15, title: "‡∏ß‡∏•‡∏µ‡∏™‡∏±‡∏ö‡∏™‡∏ô 2", questions: [
                { thai: "‡∏ó‡∏≥‡∏°‡∏≤‡∏Å‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ", correct: "overdo", decoy: "overdue" },
                { thai: "‡πÄ‡∏Å‡∏¥‡∏ô‡∏Å‡∏≥‡∏´‡∏ô‡∏î", correct: "overdue", decoy: "overdo" },
                { thai: "‡∏£‡∏±‡∏á‡∏™‡∏µ", correct: "ray", decoy: "rei" },
                { thai: "‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏õ‡∏Å‡∏Ñ‡∏£‡∏≠‡∏á", correct: "rei", decoy: "ray" },
                { thai: "‡∏™‡∏ô‡∏∏‡∏Å‡∏™‡∏ô‡∏≤‡∏ô", correct: "revel", decoy: "revere" },
                { thai: "‡πÄ‡∏Ñ‡∏≤‡∏£‡∏û", correct: "revere", decoy: "revel" },
                { thai: "‡∏Ç‡∏ô‡∏°‡∏´‡∏ß‡∏≤‡∏ô", correct: "sweet", decoy: "suite" },
                { thai: "‡∏´‡πâ‡∏≠‡∏á‡∏ä‡∏∏‡∏î", correct: "suite", decoy: "sweet" },
                { thai: "‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏°‡∏≤ (‡∏ö‡∏∏‡∏û‡∏ö‡∏ó/‡∏Ñ‡∏∏‡∏ì‡∏®‡∏±‡∏û‡∏ó‡πå)", correct: "past", decoy: "passed" },
                { thai: "‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß (‡∏Å‡∏£‡∏¥‡∏¢‡∏≤‡∏≠‡∏î‡∏µ‡∏ï)", correct: "passed", decoy: "past" },
            ]},
            { level: 16, title: "‡∏Ñ‡∏≥‡∏Å‡∏£‡∏¥‡∏¢‡∏≤ 3 ‡∏û‡∏¢‡∏≤‡∏á‡∏Ñ‡πå", questions: [
                { thai: "‡∏Å‡∏≤‡∏£‡∏Å‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏Å‡∏¥‡∏î", correct: "elicit", decoy: "illicit" },
                { thai: "‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏á‡πà‡∏≤‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô", correct: "facilitate", decoy: "felicitate" },
                { thai: "‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏¥‡∏ô‡∏î‡∏µ", correct: "felicitate", decoy: "facilitate" },
                { thai: "‡∏≠‡∏û‡∏¢‡∏û‡πÄ‡∏Ç‡πâ‡∏≤", correct: "immigrate", decoy: "emigrate" },
                { thai: "‡∏≠‡∏û‡∏¢‡∏û‡∏≠‡∏≠‡∏Å", correct: "emigrate", decoy: "immigrate" },
                { thai: "‡∏Ñ‡∏±‡∏î‡∏Ñ‡πâ‡∏≤‡∏ô", correct: "oppose", decoy: "appose" },
                { thai: "‡∏ß‡∏≤‡∏á‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡∏±‡∏ô", correct: "appose", decoy: "oppose" },
                { thai: "‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏û‡∏¥‡πÄ‡∏®‡∏©", correct: "privilege", decoy: "private" },
                { thai: "‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß", correct: "private", decoy: "privilege" },
                { thai: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏ö‡∏ú‡∏¥‡∏î‡∏ä‡∏≠‡∏ö", correct: "responsibility", decoy: "responsive" },
            ]},
            { level: 17, title: "‡∏Ç‡∏±‡πâ‡∏ô‡∏™‡∏π‡∏á 4", questions: [
                { thai: "‡πÑ‡∏°‡πà‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á", correct: "discrete", decoy: "discreet" },
                { thai: "‡∏£‡∏≠‡∏ö‡∏Ñ‡∏≠‡∏ö", correct: "discreet", decoy: "discrete" },
                { thai: "‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏ï‡πá‡∏°", correct: "complement", decoy: "compliment" },
                { thai: "‡∏Ñ‡∏≥‡∏ä‡∏°‡πÄ‡∏ä‡∏¢", correct: "compliment", decoy: "complement" },
                { thai: "‡∏£‡∏ß‡∏ö‡∏£‡∏ß‡∏°", correct: "compile", decoy: "comply" },
                { thai: "‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏ï‡∏≤‡∏°", correct: "comply", decoy: "compile" },
                { thai: "‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ú‡∏¢", correct: "disclosure", decoy: "displeasure" },
                { thai: "‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏°‡πà‡∏û‡∏≠‡πÉ‡∏à", correct: "displeasure", decoy: "disclosure" },
                { thai: "‡∏Å‡∏≤‡∏£‡∏´‡∏•‡∏µ‡∏Å‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á", correct: "evasion", decoy: "invasion" },
                { thai: "‡∏Å‡∏≤‡∏£‡∏ö‡∏∏‡∏Å‡∏£‡∏∏‡∏Å", correct: "invasion", decoy: "evasion" },
            ]},
            { level: 18, title: "‡∏Ñ‡∏≥‡∏Ñ‡∏∏‡∏ì‡∏®‡∏±‡∏û‡∏ó‡πå", questions: [
                { thai: "‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô", correct: "explicit", decoy: "implicit" },
                { thai: "‡πÇ‡∏î‡∏¢‡∏ô‡∏±‡∏¢", correct: "implicit", decoy: "explicit" },
                { thai: "‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå", correct: "expedient", decoy: "expeditious" },
                { thai: "‡∏£‡∏ß‡∏î‡πÄ‡∏£‡πá‡∏ß", correct: "expeditious", decoy: "expedient" },
                { thai: "‡∏°‡∏µ‡∏≠‡∏¥‡∏ó‡∏ò‡∏¥‡∏û‡∏•", correct: "influential", decoy: "infamous" },
                { thai: "‡πÇ‡∏î‡πà‡∏á‡∏î‡∏±‡∏á (‡πÉ‡∏ô‡∏ó‡∏≤‡∏á‡πÑ‡∏°‡πà‡∏î‡∏µ)", correct: "notorious", decoy: "infamous" },
                { thai: "‡∏ô‡πà‡∏≤‡∏≠‡∏±‡∏ö‡∏≠‡∏≤‡∏¢", correct: "infamous", decoy: "notorious" },
                { thai: "‡∏™‡∏°‡πÄ‡∏´‡∏ï‡∏∏‡∏™‡∏°‡∏ú‡∏•", correct: "rational", decoy: "rationale" },
                { thai: "‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏´‡∏•‡∏±‡∏á", correct: "rationale", decoy: "rational" },
                { thai: "‡πÄ‡∏õ‡πá‡∏ô‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£", correct: "formal", decoy: "former" },
            ]},
            { level: 19, title: "‡∏Ñ‡∏≥‡∏ó‡∏µ‡πà‡∏°‡∏µ 'ce'/'se'", questions: [
                { thai: "‡∏´‡∏¢‡∏∏‡∏î", correct: "cease", decoy: "seize" },
                { thai: "‡∏¢‡∏∂‡∏î, ‡∏â‡∏ß‡∏¢‡πÇ‡∏≠‡∏Å‡∏≤‡∏™", correct: "seize", decoy: "cease" },
                { thai: "‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≤‡∏î‡∏Å‡∏≤‡∏£‡∏ì‡πå", correct: "forecast", decoy: "foreword" },
                { thai: "‡∏Ñ‡∏≥‡∏ô‡∏≥", correct: "foreword", decoy: "forecast" },
                { thai: "‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á", correct: "distinction", decoy: "distort" },
                { thai: "‡∏ö‡∏¥‡∏î‡πÄ‡∏ö‡∏∑‡∏≠‡∏ô", correct: "distort", decoy: "distinction" },
                { thai: "‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°", correct: "propriety", decoy: "proficiency" },
                { thai: "‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç", correct: "proficiency", decoy: "propriety" },
                { thai: "‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏±‡πà‡∏ô", correct: "assurance", decoy: "insurance" },
                { thai: "‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô", correct: "insurance", decoy: "assurance" },
            ]},
            { level: 20, title: "Ultimate Challenge", questions: [
                { thai: "‡∏•‡∏±‡∏ó‡∏ò‡∏¥, ‡∏£‡∏∞‡∏ö‡∏ö‡∏≠‡∏≤‡∏´‡∏≤‡∏£", correct: "regimen", decoy: "regime" },
                { thai: "‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡∏≤‡∏£‡∏õ‡∏Å‡∏Ñ‡∏£‡∏≠‡∏á", correct: "regime", decoy: "regimen" },
                { thai: "‡∏Ñ‡∏≠‡∏ô‡∏Å‡∏£‡∏µ‡∏ï", correct: "cement", decoy: "ciment" },
                { thai: "‡∏£‡∏π‡∏õ‡∏õ‡∏±‡πâ‡∏ô", correct: "statue", decoy: "stature" },
                { thai: "‡∏™‡πà‡∏ß‡∏ô‡∏™‡∏π‡∏á", correct: "stature", decoy: "statue" },
                { thai: "‡∏Å‡∏≤‡∏£‡∏´‡∏•‡∏∏‡∏î, ‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î", correct: "lapse", decoy: "less" },
                { thai: "‡∏ô‡πâ‡∏≠‡∏¢‡∏Å‡∏ß‡πà‡∏≤", correct: "less", decoy: "lapse" },
                { thai: "‡∏ä‡∏≤‡∏ï‡∏¥‡∏Å‡∏≥‡πÄ‡∏ô‡∏¥‡∏î", correct: "nativity", decoy: "native" },
                { thai: "‡∏û‡∏∑‡πâ‡∏ô‡πÄ‡∏°‡∏∑‡∏≠‡∏á", correct: "native", decoy: "nativity" },
                { thai: "‡∏™‡∏ß‡∏£‡∏£‡∏Ñ‡πå", correct: "heaven", decoy: "haven" },
                { thai: "‡∏ó‡∏µ‡πà‡∏´‡∏•‡∏ö‡∏†‡∏±‡∏¢", correct: "haven", decoy: "heaven" },
            ]},
        ];

        // --- CONSTANTS ---
        const NORMAL_TIMER_MS = 5000;
        const AUTO_PLAY_TIMER_MS = 3000; // 3 seconds as requested
        const AUTO_PLAY_REVEAL_DELAY_MS = 1000; // Pause after reveal before next question (Adjusted from 2000 to 1000)

        // --- ELEMENTS ---
        const mainContainer = document.getElementById('main-container');
        const levelSelectScreen = document.getElementById('level-select-screen');
        const modeSelectScreen = document.getElementById('mode-select-screen');
        const gameScreen = document.getElementById('game-screen');
        const levelGridEl = document.getElementById('level-grid');
        const modeLevelTitleEl = document.getElementById('mode-level-title');

        const levelTitleEl = document.getElementById('level-title');
        const qCountEl = document.getElementById('q-count');
        const scoreEl = document.getElementById('score');
        const thaiPromptEl = document.getElementById('thai-prompt');
        const timerBarEl = document.getElementById('timer-bar');
        const choiceA = document.getElementById('choice-A');
        const choiceB = document.getElementById('choice-B');
        const nextBtn = document.getElementById('next-btn');
        const autoToggleBtn = document.getElementById('auto-toggle-btn');
        const gameFooterEl = document.getElementById('game-footer');
        const choiceButtons = [choiceA, choiceB];
        const startNormalBtn = document.getElementById('start-normal-btn');
        const startAutoBtn = document.getElementById('start-auto-btn');
        const backToLevelBtn = document.getElementById('back-to-level-btn');

        // --- GAME STATE ---
        let selectedLevelId = null; // To store the selected level before mode choice
        let currentLevelData = null;
        let currentQuizIndex = 0;
        let score = 0;
        let timerTimeout = null;
        let autoPlayTimeout = null;
        let isAnswered = false;
        let isAutoPlay = false; 
        let isSpeaking = false;
        let voices = [];
        let audioContext;

        // --- CORE FUNCTIONS (AUDIO TONE) ---
        function initAudioContext() {
            if (!audioContext) {
                audioContext = new (window.AudioContext || window.webkitAudioContext)();
            }
        }
        
        function createTone(frequency, duration, type, volume = 0.5, startFreq = null) {
            initAudioContext();
            if (!audioContext || audioContext.state === 'suspended') return;
            
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();

            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);

            if (startFreq) {
                oscillator.frequency.setValueAtTime(startFreq, audioContext.currentTime);
                oscillator.frequency.linearRampToValueAtTime(frequency, audioContext.currentTime + duration * 0.5);
            } else {
                 oscillator.frequency.setValueAtTime(frequency, audioContext.currentTime);
            }
            
            oscillator.type = type; 

            gainNode.gain.setValueAtTime(volume, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.00001, audioContext.currentTime + duration);

            oscillator.start();
            oscillator.stop(audioContext.currentTime + duration);
        }

        function playPing() {
            createTone(880, 0.15, 'sine', 0.8, 660); 
        }

        function playFailTone() {
            createTone(150, 0.4, 'triangle', 0.7, 200); 
        }

        // --- CORE FUNCTIONS (SPEECH SYNTHESIS) ---
        function setupSpeech() {
            if ('speechSynthesis' in window) {
                window.speechSynthesis.onvoiceschanged = () => {
                    voices = window.speechSynthesis.getVoices();
                };
            }
        }
        
        function getVoice(lang) {
            if (lang === 'en-US') {
                return voices.find(v => v.lang.startsWith('en-US') && (v.name.includes('Samantha') || v.name.includes('Google US English'))) || voices.find(v => v.lang.startsWith('en-US'));
            } else if (lang === 'th-TH') {
                return voices.find(v => v.lang.startsWith('th-TH')) || null;
            }
            return null;
        }

        function speakText(text, lang, onEndCallback = null) {
            if (!'speechSynthesis' in window) {
                if(onEndCallback) onEndCallback();
                return;
            }
            window.speechSynthesis.cancel();
            isSpeaking = true;
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = lang;
            utterance.rate = lang === 'th-TH' ? 0.9 : 0.8; 
            utterance.volume = 1;

            const targetVoice = getVoice(lang);
            if (targetVoice) {
                utterance.voice = targetVoice;
            }

            utterance.onend = () => {
                isSpeaking = false;
                if (onEndCallback) onEndCallback();
            };
            utterance.onerror = () => {
                isSpeaking = false;
                if (onEndCallback) onEndCallback();
            };
            window.speechSynthesis.speak(utterance);
        }

        // --- UI & SCREEN MANAGEMENT ---

        function showScreen(id) {
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            document.getElementById(id).classList.add('active');
            
            clearTimeout(timerTimeout);
            clearTimeout(autoPlayTimeout);
            window.speechSynthesis.cancel();
        }

        function createLevelButtons() {
            levelGridEl.innerHTML = '';
            allQuizData.forEach(data => {
                const btn = document.createElement('button');
                btn.className = 'level-btn';
                
                if (data.level >= 11) {
                    btn.classList.add('level-btn-11-20');
                }
                
                btn.textContent = `Level ${data.level}`;
                
                const titleSpan = document.createElement('span');
                titleSpan.className = 'level-btn-title';
                titleSpan.textContent = data.title;
                
                btn.appendChild(titleSpan);
                btn.setAttribute('data-level', data.level);
                
                btn.addEventListener('click', () => {
                    initAudioContext(); 
                    if (audioContext && audioContext.state === 'suspended') {
                         audioContext.resume();
                    }
                    selectedLevelId = data.level;
                    setupModeSelection(data.level);
                });
                levelGridEl.appendChild(btn);
            });
        }

        function setupModeSelection(levelId) {
            currentLevelData = allQuizData.find(data => data.level === levelId);
            modeLevelTitleEl.textContent = `Level ${levelId}: ${currentLevelData.title}`;
            
            // Apply hard-theme to mode selection screen for visual consistency
            if (levelId >= 11) {
                mainContainer.classList.add('hard-theme');
            } else {
                mainContainer.classList.remove('hard-theme');
            }
            
            showScreen('mode-select-screen');
        }
        
        function updateStatusBar() {
            levelTitleEl.textContent = `${currentLevelData.title} (Level ${currentLevelData.level})`;
            qCountEl.textContent = `‡∏Ç‡πâ‡∏≠: ${currentQuizIndex}/${currentLevelData.questions.length}`;
            scoreEl.textContent = `‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: ${score}`;
        }
        
        function updateAutoPlayControls() {
            if (isAutoPlay) {
                // Auto Play Mode: Show Stop button on the left
                gameFooterEl.classList.add('auto-mode');
                autoToggleBtn.style.display = 'block';
                autoToggleBtn.classList.add('auto-active');
                autoToggleBtn.textContent = '‚è∏Ô∏è ‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ (Auto)';
                nextBtn.textContent = '‚è≠Ô∏è ‡∏Ç‡πâ‡∏≤‡∏°/‡∏à‡∏ö‡πÄ‡∏Å‡∏°';
            } else {
                // Normal Mode: Show Start Auto button on the left
                gameFooterEl.classList.remove('auto-mode');
                autoToggleBtn.style.display = 'block'; 
                autoToggleBtn.classList.remove('auto-active');
                autoToggleBtn.textContent = '‚ñ∂Ô∏è ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ (Auto)';
                
                // Keep the next button text standard for normal mode
                nextBtn.textContent = (currentQuizIndex >= currentLevelData.questions.length && isAnswered) ? '‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å (Level Selection)' : '‡∏Ç‡πâ‡∏≠‡∏ñ‡∏±‡∏î‡πÑ‡∏õ';
            }
        }


        // --- GAME LOGIC ---
        // Combined function to start game session
        function startGame(levelId, autoMode) {
            currentLevelData = allQuizData.find(data => data.level === levelId); 
            isAutoPlay = autoMode;
            currentQuizIndex = 0;
            score = 0;
            
            // Apply theme change
            if (levelId >= 11) {
                mainContainer.classList.add('hard-theme');
            } else {
                mainContainer.classList.remove('hard-theme');
            }
            
            showScreen('game-screen');
            updateAutoPlayControls();
            nextQuestion();
        }

        function startAutoPlay() {
            if (isAutoPlay) return;
            isAutoPlay = true;
            updateAutoPlayControls();
            
            // If question is not answered, immediately start the auto timer
            if (!isAnswered && currentQuizIndex < currentLevelData.questions.length) {
                window.speechSynthesis.cancel(); // Stop current speech if any
                startTimer(); 
            }
        }

        function stopAutoPlay() {
            if (!isAutoPlay) return;
            isAutoPlay = false;
            clearTimeout(timerTimeout);
            clearTimeout(autoPlayTimeout);
            window.speechSynthesis.cancel();
            
            // Re-enable choices for the current question if not answered
            if (!isAnswered && currentQuizIndex < currentLevelData.questions.length) {
                 choiceButtons.forEach(btn => btn.disabled = false);
                 
                 // Show status message (Optional, but helpful)
                 thaiPromptEl.textContent = `‚úÖ ‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥! (‡πÇ‡∏´‡∏°‡∏î‡∏õ‡∏Å‡∏ï‡∏¥)`;
                 thaiPromptEl.style.fontSize = '1.8rem';
                 thaiPromptEl.style.color = 'var(--color-secondary)';
                 
                 // Restart normal timer after a short delay to allow player to see message
                 setTimeout(() => {
                    if (!isAnswered) {
                         setupQuestion(currentLevelData.questions[currentQuizIndex]); // Restart with normal timer
                    }
                 }, 500); 
            }
            
            updateAutoPlayControls();
        }

        function nextQuestion() {
            clearTimeout(timerTimeout);
            clearTimeout(autoPlayTimeout);
            window.speechSynthesis.cancel();
            
            if (currentQuizIndex >= currentLevelData.questions.length) {
                endGame();
                return;
            }
            
            isAnswered = false;
            nextBtn.disabled = true;
            updateAutoPlayControls(); 

            // Reset UI
            thaiPromptEl.style.fontSize = '2rem';
            thaiPromptEl.style.color = currentLevelData.level >= 11 ? '#F1C40F' : 'var(--color-primary)';
            thaiPromptEl.classList.remove('revealed-text');
            
            // Reset buttons
            choiceButtons.forEach(btn => {
                btn.className = 'choice-button';
                btn.disabled = isAutoPlay; // Disable choices if in Auto-Play mode
                btn.style.display = 'block';
                btn.style.height = 'auto';
                btn.style.padding = '1.5rem';
                btn.style.margin = '0';
            });
            
            updateStatusBar();
            setupQuestion(currentLevelData.questions[currentQuizIndex]);
        }

        function setupQuestion(q) {
            // Re-enable buttons if not in auto-play mode
            choiceButtons.forEach(btn => btn.disabled = isAutoPlay);
            
            thaiPromptEl.textContent = q.thai;
            
            // Speak the Thai prompt immediately
            speakText(q.thai, 'th-TH');

            const choices = [q.correct, q.decoy];
            choices.sort(() => 0.5 - Math.random());

            choiceA.textContent = choices[0];
            choiceA.setAttribute('data-correct', choices[0] === q.correct);
            choiceB.textContent = choices[1];
            choiceB.setAttribute('data-correct', choices[1] === q.correct);

            startTimer();
        }

        function startTimer() {
            const durationMs = isAutoPlay ? AUTO_PLAY_TIMER_MS : NORMAL_TIMER_MS;
            const durationSec = durationMs / 1000;

            // Update timer bar transition time dynamically
            timerBarEl.style.transition = 'none';
            timerBarEl.style.width = '100%';
            
            void timerBarEl.offsetWidth; 

            setTimeout(() => {
                timerBarEl.style.transition = `width ${durationSec}s linear`;
                timerBarEl.style.width = '0%';
            }, 50);

            // Set timeout action
            timerTimeout = setTimeout(() => {
                if (!isAnswered) {
                    const currentQ = currentLevelData.questions[currentQuizIndex];
                    if (isAutoPlay) {
                        // AutoPlay: Simulate correct answer (null selectedBtn for auto)
                        checkAnswer(null, true); 
                    } else {
                        checkAnswer(null, false); // Normal: Timeout logic (Wrong)
                    }
                }
            }, durationMs);
        }

        function checkAnswer(selectedBtn, isAuto) {
            if (isAnswered) return;
            isAnswered = true;
            clearTimeout(timerTimeout);
            
            timerBarEl.style.transition = 'none';
            timerBarEl.style.width = '0%'; 

            const currentQ = currentLevelData.questions[currentQuizIndex];
            const correctWord = currentQ.correct;
            
            // Determine if the answer is correct
            const isCorrect = isAuto ? true : (selectedBtn && selectedBtn.getAttribute('data-correct') === 'true'); 

            // 1. Stop Thai reading and play tone
            window.speechSynthesis.cancel();
            if (isCorrect) {
                playPing();
                score++;
            } else {
                playFailTone();
            }
            
            // 2. Disable all choices
            choiceButtons.forEach(btn => btn.disabled = true);
            
            // 3. Reveal and animate
            revealAnswer(correctWord, selectedBtn, isCorrect, currentQ.thai, isAuto);
            
            // 4. Set Next Button action
            nextBtn.disabled = false;
            
            // 5. Auto-Play continuation
            if (isAutoPlay) {
                // Automatically proceed to the next question after a pause
                autoPlayTimeout = setTimeout(() => {
                    currentQuizIndex++;
                    nextQuestion();
                }, AUTO_PLAY_REVEAL_DELAY_MS); 
            }
        }

        function revealAnswer(correctWord, selectedBtn, isCorrect, correctThaiMeaning, isAuto) {
            const fullRevealText = `${correctWord} (${correctThaiMeaning})`;

            speakText(correctWord, 'en-US'); 
            
            choiceButtons.forEach(btn => {
                btn.classList.remove('wrong', 'correct');
                
                if (btn.textContent === correctWord) {
                    btn.classList.add('correct');
                } else {
                    btn.classList.add('hidden-on-reveal');
                }
            });
            
            let statusPrefix = '';
            if (isAuto || isCorrect) { 
                 statusPrefix = isAuto ? 'ü§ñ ‡∏ñ‡∏π‡∏Å‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥: ' : '‚úÖ ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á: ';
                 thaiPromptEl.style.color = 'var(--color-correct)';
            } else {
                 statusPrefix = selectedBtn ? '‚ùå ‡∏ú‡∏¥‡∏î: ' : '‚è∞ ‡∏´‡∏°‡∏î‡πÄ‡∏ß‡∏•‡∏≤: ';
                 thaiPromptEl.style.color = 'var(--color-wrong)';
            }

            thaiPromptEl.textContent = statusPrefix + fullRevealText;
            thaiPromptEl.classList.add('revealed-text');
            thaiPromptEl.style.fontSize = ''; 

            updateStatusBar();
        }


        function endGame() {
            // Ensure AutoPlay is stopped at the end of the game
            isAutoPlay = false;
            clearTimeout(autoPlayTimeout);
            
            levelTitleEl.textContent = `‡∏à‡∏ö Level ${currentLevelData.level}!`;
            qCountEl.textContent = '';
            
            thaiPromptEl.textContent = `‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏≥‡πÑ‡∏î‡πâ ${score}/${currentLevelData.questions.length} ‡∏Ç‡πâ‡∏≠`;
            thaiPromptEl.style.fontSize = '2.5rem';
            thaiPromptEl.style.color = score >= 8 ? 'var(--color-correct)' : 'var(--color-wrong)';
            thaiPromptEl.classList.remove('revealed-text');
            thaiPromptEl.classList.add('revealed-text'); 

            choiceButtons.forEach(btn => btn.style.display = 'none');
            
            nextBtn.textContent = '‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å (Level Selection)';
            nextBtn.disabled = false;
            
            updateAutoPlayControls();
        }

        // --- EVENT LISTENERS ---
        function handleChoiceClick(e) {
            if (audioContext && audioContext.state === 'suspended') {
                 audioContext.resume();
            }
            if (!isAnswered && !isAutoPlay) { 
                checkAnswer(e.target, false);
            }
        }

        // Mode Selection Handlers
        startNormalBtn.addEventListener('click', () => {
            startGame(selectedLevelId, false);
        });
        startAutoBtn.addEventListener('click', () => {
            startGame(selectedLevelId, true);
        });
        backToLevelBtn.addEventListener('click', () => {
             mainContainer.classList.remove('hard-theme');
             showScreen('level-select-screen');
        });

        choiceA.addEventListener('click', handleChoiceClick);
        choiceB.addEventListener('click', handleChoiceClick);

        nextBtn.addEventListener('click', () => {
            window.speechSynthesis.cancel();
            clearTimeout(autoPlayTimeout); 
            
            if (currentQuizIndex >= currentLevelData.questions.length) {
                // End game / Back to home
                choiceButtons.forEach(btn => btn.style.display = 'block');
                mainContainer.classList.remove('hard-theme');
                isAutoPlay = false;
                showScreen('level-select-screen');
            } else {
                // Normal mode advance / Auto mode skip
                currentQuizIndex++;
                nextQuestion();
            }
        });
        
        // Auto Play Toggle Button Handler
        autoToggleBtn.addEventListener('click', () => {
            if (isAutoPlay) {
                stopAutoPlay();
            } else {
                startAutoPlay();
            }
        });


        // --- INITIAL SETUP ---
        document.addEventListener('DOMContentLoaded', () => {
            setupSpeech();
            createLevelButtons();
            showScreen('level-select-screen');
        });
    </script>
</body>
</html>
